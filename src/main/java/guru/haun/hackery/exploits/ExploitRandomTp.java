package guru.haun.hackery.exploits;

import guru.haun.hackery.api.exploits.ExploitBase;
import net.minecraft.entity.Entity;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.util.BlockPos;

public class ExploitRandomTp extends ExploitBase {

    public ExploitRandomTp(int i) {
        super(i);
        setWeight(50);
        setTargetSelf();
        setTargetOthers();
        setTargetMob();
        setName("exploitSpatialJerk");
    }
	
    @Override
	public void targetUser(EntityPlayer ep) {
		BlockPos playerPosition = ep.getPosition();
		BlockPos position = new BlockPos(
				playerPosition.getX() + (256 * Math.random() - 128),
				0,
				playerPosition.getZ() + (256 * Math.random() - 128)
		);
		position.add(0, ep.worldObj.getChunkFromBlockCoords(position).getHeight(position) + 1, 0);
		ep.setPositionAndUpdate(position.getX(), position.getY(), position.getZ());
	}

	@Override
	public void targetMob(Entity e) {
		BlockPos destination = new BlockPos( e.posX + (128 * Math.random() - 64), 0, e.posZ + (128 * Math.random() - 64));
		destination.add(0,e.getEntityWorld().getChunkFromBlockCoords(destination).getHeight(destination) + 1,0);
		e.moveEntity(destination.getX(), destination.getY(), destination.getZ());
	}

}
